# System Architecture Diagram - AI Exam Seating System

## Complete System Architecture

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          CLIENT LAYER (Browser)                          │
│                                                                           │
│  ┌────────────────────────────────────────────────────────────────────┐ │
│  │                    React.js Frontend (Port 3000)                    │ │
│  │                                                                      │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐          │ │
│  │  │  Login   │  │Dashboard │  │ Student  │  │   Hall   │          │ │
│  │  │Component │  │Component │  │  Upload  │  │Management│          │ │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘          │ │
│  │                                                                      │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────────────────┐            │ │
│  │  │ Seating  │  │ Seating  │  │   API Service Layer  │            │ │
│  │  │Generation│  │  Chart   │  │   (Axios + JWT)      │            │ │
│  │  └──────────┘  └──────────┘  └──────────────────────┘            │ │
│  │                                        │                            │ │
│  └────────────────────────────────────────┼────────────────────────────┘ │
└─────────────────────────────────────────────┼──────────────────────────────┘
                                              │
                                              │ HTTP/REST API
                                              │ (JSON)
                                              ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                        APPLICATION LAYER (Server)                        │
│                                                                           │
│  ┌────────────────────────────────────────────────────────────────────┐ │
│  │              Node.js + Express.js Backend (Port 5000)              │ │
│  │                                                                      │ │
│  │  ┌──────────────────────────────────────────────────────────────┐ │ │
│  │  │                    Middleware Layer                           │ │ │
│  │  │  ┌────────────┐  ┌────────────┐  ┌────────────┐            │ │ │
│  │  │  │    CORS    │  │    JWT     │  │   Multer   │            │ │ │
│  │  │  │ Protection │  │    Auth    │  │File Upload │            │ │ │
│  │  │  └────────────┘  └────────────┘  └────────────┘            │ │ │
│  │  └──────────────────────────────────────────────────────────────┘ │ │
│  │                                                                      │ │
│  │  ┌──────────────────────────────────────────────────────────────┐ │ │
│  │  │                      API Routes                               │ │ │
│  │  │                                                                │ │ │
│  │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │ │ │
│  │  │  │    Auth     │  │   Student   │  │    Hall     │         │ │ │
│  │  │  │   Routes    │  │   Routes    │  │   Routes    │         │ │ │
│  │  │  │ /api/auth/* │  │/api/students│  │ /api/halls  │         │ │ │
│  │  │  └─────────────┘  └─────────────┘  └─────────────┘         │ │ │
│  │  │                                                                │ │ │
│  │  │  ┌─────────────┐  ┌─────────────┐                           │ │ │
│  │  │  │   Seating   │  │     PDF     │                           │ │ │
│  │  │  │   Routes    │  │  Generator  │                           │ │ │
│  │  │  │/api/seating │  │   Utility   │                           │ │ │
│  │  │  └─────────────┘  └─────────────┘                           │ │ │
│  │  └──────────────────────────────────────────────────────────────┘ │ │
│  │                                                                      │ │
│  └────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────┘
                │                                    │
                │                                    │
                ▼                                    ▼
┌───────────────────────────────┐    ┌───────────────────────────────┐
│      DATA LAYER               │    │    AI PROCESSING LAYER        │
│                               │    │                               │
│  ┌─────────────────────────┐ │    │  ┌─────────────────────────┐ │
│  │  MongoDB (Port 27017)   │ │    │  │ Python FastAPI (8000)   │ │
│  │                         │ │    │  │                         │ │
│  │  ┌──────────────────┐  │ │    │  │  ┌──────────────────┐  │ │
│  │  │  admins          │  │ │    │  │  │  CSP Algorithm   │  │ │
│  │  │  Collection      │  │ │    │  │  │                  │  │ │
│  │  └──────────────────┘  │ │    │  │  │ - Shuffle        │  │ │
│  │                         │ │    │  │  │ - Grid Create    │  │ │
│  │  ┌──────────────────┐  │ │    │  │  │ - Constraint     │  │ │
│  │  │  students        │  │ │    │  │  │   Check          │  │ │
│  │  │  Collection      │  │ │    │  │  │ - Placement      │  │ │
│  │  └──────────────────┘  │ │    │  │  │ - Backtrack      │  │ │
│  │                         │ │    │  │  └──────────────────┘  │ │
│  │  ┌──────────────────┐  │ │    │  │                         │ │
│  │  │  examhalls       │  │ │    │  │  ┌──────────────────┐  │ │
│  │  │  Collection      │  │ │    │  │  │  REST Endpoint   │  │ │
│  │  └──────────────────┘  │ │    │  │  │  POST /allocate  │  │ │
│  │                         │ │    │  │  └──────────────────┘  │ │
│  │  ┌──────────────────┐  │ │    │  └─────────────────────────┘ │
│  │  │  seatingplans    │  │ │    └───────────────────────────────┘
│  │  │  Collection      │  │ │
│  │  └──────────────────┘  │ │
│  └─────────────────────────┘ │
└───────────────────────────────┘
```

## Data Flow Diagram

```
┌──────────┐
│  Admin   │
│  Login   │
└────┬─────┘
     │
     ▼
┌──────────────────┐
│ Upload Students  │
│    (CSV File)    │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│  Parse & Store   │
│   in MongoDB     │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│  Add Exam Halls  │
│  (Configuration) │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│ Trigger Seating  │
│   Generation     │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│  Backend Calls   │
│   AI Engine      │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│  AI Algorithm    │
│   Processes      │
│  (CSP Solver)    │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│ Return Optimal   │
│   Allocation     │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│  Store Plan in   │
│    Database      │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│ Display Seating  │
│     Chart        │
└────┬─────────────┘
     │
     ▼
┌──────────────────┐
│  Download PDF    │
│   (Optional)     │
└──────────────────┘
```

## Component Interaction Diagram

```
┌─────────────────────────────────────────────────────────────┐
│                      User Interface                          │
│                                                               │
│  Login → Dashboard → [Upload|Halls|Generate|View]           │
│                                                               │
└───────────────────────────┬─────────────────────────────────┘
                            │
                            │ API Calls (Axios)
                            │
┌───────────────────────────▼─────────────────────────────────┐
│                    Express.js Router                         │
│                                                               │
│  /api/auth/*     → authRoutes    → Admin Model              │
│  /api/students/* → studentRoutes → Student Model            │
│  /api/halls/*    → hallRoutes    → ExamHall Model           │
│  /api/seating/*  → seatingRoutes → SeatingPlan Model        │
│                                                               │
└───────────────────────────┬─────────────────────────────────┘
                            │
                ┌───────────┴───────────┐
                │                       │
                ▼                       ▼
    ┌───────────────────┐   ┌───────────────────┐
    │   MongoDB         │   │  Python AI Engine │
    │   Database        │   │                   │
    │                   │   │  POST /allocate   │
    │  - CRUD Ops       │   │  - Constraint     │
    │  - Validation     │   │    Satisfaction   │
    │  - Indexing       │   │  - Optimization   │
    └───────────────────┘   └───────────────────┘
```

## Security Architecture

```
┌─────────────────────────────────────────────────────────────┐
│                      Security Layers                         │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  Layer 1: Authentication                             │   │
│  │  - JWT Token Generation                              │   │
│  │  - Token Verification                                │   │
│  │  - Password Hashing (bcrypt)                         │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  Layer 2: Authorization                              │   │
│  │  - Protected Routes                                  │   │
│  │  - Middleware Checks                                 │   │
│  │  - Role-based Access                                 │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  Layer 3: Data Validation                            │   │
│  │  - Input Sanitization                                │   │
│  │  - Schema Validation                                 │   │
│  │  - File Type Checking                                │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  Layer 4: Network Security                           │   │
│  │  - CORS Configuration                                │   │
│  │  - HTTPS (Production)                                │   │
│  │  - Rate Limiting (Future)                            │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

## Deployment Architecture

```
┌─────────────────────────────────────────────────────────────┐
│                    Production Environment                    │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │              Load Balancer (nginx)                   │   │
│  └────────────────────┬────────────────────────────────┘   │
│                       │                                      │
│         ┌─────────────┼─────────────┐                       │
│         │             │             │                       │
│         ▼             ▼             ▼                       │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                 │
│  │ Frontend │  │ Frontend │  │ Frontend │                 │
│  │Instance 1│  │Instance 2│  │Instance 3│                 │
│  └──────────┘  └──────────┘  └──────────┘                 │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │              Backend API Cluster                     │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐         │   │
│  │  │ Backend  │  │ Backend  │  │ Backend  │         │   │
│  │  │Instance 1│  │Instance 2│  │Instance 3│         │   │
│  │  └──────────┘  └──────────┘  └──────────┘         │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │              AI Engine Cluster                       │   │
│  │  ┌──────────┐  ┌──────────┐                         │   │
│  │  │AI Engine │  │AI Engine │                         │   │
│  │  │Instance 1│  │Instance 2│                         │   │
│  │  └──────────┘  └──────────┘                         │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │         MongoDB Replica Set (3 nodes)                │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐         │   │
│  │  │ Primary  │  │Secondary │  │Secondary │         │   │
│  │  │   Node   │  │  Node 1  │  │  Node 2  │         │   │
│  │  └──────────┘  └──────────┘  └──────────┘         │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

## Technology Stack Diagram

```
┌─────────────────────────────────────────────────────────────┐
│                    Technology Stack                          │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  Frontend Layer                                      │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐         │   │
│  │  │ React.js │  │Tailwind  │  │  Vite    │         │   │
│  │  │  18.2.0  │  │CSS 3.3.5 │  │  4.5.0   │         │   │
│  │  └──────────┘  └──────────┘  └──────────┘         │   │
│  │  ┌──────────┐  ┌──────────┐                        │   │
│  │  │  Axios   │  │React DOM │                        │   │
│  │  │  1.5.0   │  │  18.2.0  │                        │   │
│  │  └──────────┘  └──────────┘                        │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  Backend Layer                                       │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐         │   │
│  │  │ Node.js  │  │Express.js│  │ MongoDB  │         │   │
│  │  │   18+    │  │  4.18.2  │  │  7.5.0   │         │   │
│  │  └──────────┘  └──────────┘  └──────────┘         │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐         │   │
│  │  │   JWT    │  │  Multer  │  │ PDFKit   │         │   │
│  │  │  9.0.2   │  │  1.4.5   │  │  0.13.0  │         │   │
│  │  └──────────┘  └──────────┘  └──────────┘         │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  AI Layer                                            │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐         │   │
│  │  │ Python   │  │ FastAPI  │  │  NumPy   │         │   │
│  │  │  3.9+    │  │ 0.104.1  │  │  1.26.2  │         │   │
│  │  └──────────┘  └──────────┘  └──────────┘         │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

---

**This architecture supports:**
- ✅ Scalability (horizontal scaling)
- ✅ Maintainability (modular design)
- ✅ Security (multiple layers)
- ✅ Performance (optimized algorithms)
- ✅ Reliability (error handling)
